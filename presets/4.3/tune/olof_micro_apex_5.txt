#$ TITLE: Olof Micro apex 5
#$ FIRMWARE_VERSION: 4.3
#$ CATEGORY: TUNE
#$ STATUS: EXPERIMENTAL
#$ KEYWORDS: 4S, 6S
#$ AUTHOR: Olof Ogland

#$ PARSER: MARKED

#$ DESCRIPTION: I'm Olof
#$ DESCRIPTION: 
#$ DESCRIPTION: Information:
#$ DESCRIPTION: -----------
#$ DESCRIPTION: Tune for AOS v2 3.5 and micro apex 3", clean builds
#$ DESCRIPTION: 
#$ WARNING: Stay frosty
#$ INCLUDE: presets/4.3/tune/defaults.txt
#$ INCLUDE: presets/4.3/filters/defaults.txt

# -- Filter Settings --
set dterm_lpf1_dyn_min_hz = 112
set dterm_lpf1_dyn_max_hz = 225
set dterm_lpf1_static_hz = 112
set dterm_lpf2_static_hz = 225
set simplified_dterm_filter_multiplier = 150
set gyro_lpf1_static_hz = 0
set gyro_lpf2_static_hz = 750
set dyn_notch_count = 1
set dyn_notch_q = 500
set gyro_lpf1_dyn_min_hz = 0
set gyro_lpf1_dyn_max_hz = 750
set simplified_gyro_filter_multiplier = 150
set rpm_filter_harmonics = 2

# -- PID Settings --

profile 0

# profile 0
set vbat_sag_compensation = 100
set pidsum_limit = 1000
set pidsum_limit_yaw = 1000
set p_pitch = 63
set i_pitch = 85
set d_pitch = 57
set f_pitch = 297
set p_roll = 61
set i_roll = 81
set d_roll = 50
set f_roll = 285
set p_yaw = 61
set i_yaw = 81
set f_yaw = 285
set d_min_roll = 50
set d_min_pitch = 57
set auto_profile_cell_count = 4
set motor_output_limit = 100
set simplified_master_multiplier = 170
set simplified_i_gain = 75
set simplified_pi_gain = 80
set simplified_dmax_gain = 0
set simplified_feedforward_gain = 140

profile 1

# profile 1
set vbat_sag_compensation = 100
set pidsum_limit = 1000
set pidsum_limit_yaw = 1000
set p_pitch = 63
set i_pitch = 85
set d_pitch = 57
set f_pitch = 297
set p_roll = 61
set i_roll = 81
set d_roll = 50
set f_roll = 285
set p_yaw = 61
set i_yaw = 81
set f_yaw = 285
set d_min_roll = 50
set d_min_pitch = 57
set motor_output_limit = 66
set auto_profile_cell_count = 6
set simplified_master_multiplier = 170
set simplified_i_gain = 75
set simplified_pi_gain = 80
set simplified_dmax_gain = 0
set simplified_feedforward_gain = 140

simplified_tuning apply

#$ OPTION BEGIN (UNCHECKED): 48k ESC PWM
# -- ADDER: For 48khz PWM --
set thrust_linear = 20
#$ OPTION END


#$ OPTION BEGIN (UNCHECKED): Dynamic Idle
set dyn_idle_min_rpm = 30
#$ OPTION END

#$ OPTION BEGIN (UNCHECKED): Orientation
set gyro_1_sensor_align = CW180
set gyro_1_align_yaw = 1800
#$ OPTION END